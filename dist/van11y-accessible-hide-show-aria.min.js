/**
 * van11y-accessible-hide-show-aria - ES2015 accessible hide-show system (collapsible regions), using ARIA (compatible IE9+ when transpiled)
 * @version v3.0.1
 * @link https://van11y.net/accessible-hide-show/
 * @license MIT : https://github.com/nico3333fr/van11y-accessible-hide-show-aria/blob/master/LICENSE
 */

!function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r,i=(r={},{set:function(t,e){r[t]=e},get:function(t){return r[t]},remove:function(t){return r[t]}}),a=function(t,e){return document.querySelector("#".concat(t,"[").concat("data-hash-id",'="').concat(e,'"]'))},E=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},_=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},o=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},T=function(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))},c=function(t,e){if(t.fireEvent)t.fireEvent("on"+e);else{var n=document.createEvent("Events");n.initEvent(e,!0,!1),t.dispatchEvent(n)}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e({HIDESHOW_EXPAND:"js-expandmore",HIDESHOW_BUTTON_EXPAND:"js-expandmore-button",HIDESHOW_BUTTON_EXPAND_STYLE:"expandmore__button",HIDESHOW_BUTTON_LABEL_ID:"label_expand_",DATA_PREFIX_CLASS:"data-hideshow-prefix-class",HIDESHOW_BUTTON_EMPTY_ELEMENT_SYMBOL:"expandmore__symbol",HIDESHOW_BUTTON_EMPTY_ELEMENT_TAG:"span",ATTR_HIDESHOW_BUTTON_EMPTY_ELEMENT:"aria-hidden",HIDESHOW_TO_EXPAND_ID:"expand_",HIDESHOW_TO_EXPAND_STYLE:"expandmore__to_expand",ATTR_CONTROL:"data-controls",ATTR_EXPANDED:"aria-expanded",ATTR_LABELLEDBY:"data-labelledby",ATTR_HIDDEN:"data-hidden",IS_OPENED_CLASS:"is-opened",DISPLAY_FIRST_LOAD:"js-first_load",DISPLAY_FIRST_LOAD_DELAY:"1500"},t),a=Math.random().toString(32).slice(2,12);i.set(a,r);var c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return[].slice.call(t.querySelectorAll("."+r.HIDESHOW_EXPAND))},D=function(t){c(t).forEach((function(t){var e,i,c,D=Math.random().toString(32).slice(2,12),A=!0===t.hasAttribute(r.DATA_PREFIX_CLASS)?t.getAttribute(r.DATA_PREFIX_CLASS)+"-":"",s=t.nextElementSibling,O=t.innerHTML,u=document.createElement("BUTTON"),d=document.createElement(r.HIDESHOW_BUTTON_EMPTY_ELEMENT_TAG);t.setAttribute("data-hash-id",a),E(d,A+r.HIDESHOW_BUTTON_EMPTY_ELEMENT_SYMBOL),T(d,(n(e={},r.ATTR_HIDESHOW_BUTTON_EMPTY_ELEMENT,!0),n(e,"data-hash-id",a),e)),t.innerHTML="",E(u,A+r.HIDESHOW_BUTTON_EXPAND_STYLE),E(u,r.HIDESHOW_BUTTON_EXPAND),T(u,(n(i={},r.ATTR_CONTROL,r.HIDESHOW_TO_EXPAND_ID+D),n(i,r.ATTR_EXPANDED,"false"),n(i,"id",r.HIDESHOW_BUTTON_LABEL_ID+D),n(i,"type","button"),n(i,"data-hash-id",a),i)),u.innerHTML=O,t.appendChild(u),u.insertBefore(d,u.firstChild),T(s,(n(c={},r.ATTR_LABELLEDBY,r.HIDESHOW_BUTTON_LABEL_ID+D),n(c,r.ATTR_HIDDEN,"true"),n(c,"id",r.HIDESHOW_TO_EXPAND_ID+D),n(c,"data-hash-id",a),c)),E(s,A+r.HIDESHOW_TO_EXPAND_STYLE),!0===o(s,r.DISPLAY_FIRST_LOAD)&&setTimeout((function(){_(s,r.DISPLAY_FIRST_LOAD)}),r.DISPLAY_FIRST_LOAD_DELAY),!0===o(s,r.IS_OPENED_CLASS)&&(E(u,r.IS_OPENED_CLASS),u.setAttribute(r.ATTR_EXPANDED,"true"),_(s,r.IS_OPENED_CLASS),s.removeAttribute(r.ATTR_HIDDEN))}))};return{attach:D}};window.van11yAccessibleHideShowAria=(["click","keydown"].forEach((function(t){document.body.addEventListener(t,(function(e){var n=function(t,e){for(var n=!1,r=t;1===r.nodeType&&r&&!1===n;)!0===r.hasAttribute(e)?n=!0:r=r.parentNode;return!0===n?r.getAttribute(e):""}(e.target,"data-hash-id");if(""!==n){var r=i.get(n),T=function(t,e,n){for(var r=!1,i=t;i&&!1===r;)!0===o(i,e)&&i.getAttribute("data-hash-id")===n?r=!0:i=i.parentNode;return!0===r?i.getAttribute("id"):""}(e.target,r.HIDESHOW_BUTTON_EXPAND,n);if(""!==T&&"click"===t){var D=a(T,n),A=a(D.getAttribute(r.ATTR_CONTROL),n);"false"===D.getAttribute(r.ATTR_EXPANDED)?(D.setAttribute(r.ATTR_EXPANDED,!0),E(D,r.IS_OPENED_CLASS),A.removeAttribute(r.ATTR_HIDDEN)):(D.setAttribute(r.ATTR_EXPANDED,!1),_(D,r.IS_OPENED_CLASS),A.setAttribute(r.ATTR_HIDDEN,!0))}if(!0===o(e.target,r.HIDESHOW_EXPAND)){var s=e.target,O=s.querySelector("."+r.HIDESHOW_BUTTON_EXPAND);if(s!=O){if("click"===t)return c(O,"click"),!1;if("keydown"===t&&(13===e.keyCode||32===e.keyCode))return c(O,"click"),!1}}}}),!0)})),D);document.addEventListener("DOMContentLoaded",(function t(){window.van11yAccessibleHideShowAria().attach(),document.removeEventListener("DOMContentLoaded",t)}))}();
